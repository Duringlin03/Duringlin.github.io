<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <!-- 页面元信息 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生态行动 | Eco Campus</title>
    <!-- 网站图标 -->
    <link rel="icon" href="images/logo.png" type="image/png">
    <!-- 引入 TailwindCSS、字体、全局样式、生态行动页样式、背景动画样式 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.loli.net/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/action.css">
    <link rel="stylesheet" href="css/bg-squares.css">
</head>

<body class="font-sans">
    <!-- 背景动态方块动画 -->
    <ul class="bg-squares"></ul>
    <!-- 页面主要内容 -->
    <main class="relative z-10">
        <!-- 环保承诺书部分：用户承诺环保行为 -->
        <section class="py-16" style="background: transparent;">
            <div class="container mx-auto px-6">
                <div class="max-w-3xl mx-auto">
                    <!-- 标题 -->
                    <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">环保承诺书</h2>
                    <div class="bg-white bg-opacity-80 rounded-xl shadow-lg p-8">
                        <!-- 承诺内容 -->
                        <div class="mb-6">
                            <h3 class="text-xl font-semibold text-green-800 mb-4">我承诺在未来30天内:</h3>
                            <div class="space-y-3">
                                <!-- 承诺选项 -->
                                <div class="flex items-center">
                                    <input type="checkbox" id="promise1"
                                        class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                                    <label for="promise1" class="ml-2 text-gray-700">减少一次性塑料制品的使用</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="promise2"
                                        class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                                    <label for="promise2" class="ml-2 text-gray-700">每周至少步行或骑行3次</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="promise3"
                                        class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                                    <label for="promise3" class="ml-2 text-gray-700">节约用水用电</label>
                                </div>
                                <div class="flex items-center">
                                    <input type="checkbox" id="promise4"
                                        class="w-5 h-5 text-green-600 rounded focus:ring-green-500">
                                    <label for="promise4" class="ml-2 text-gray-700">参与至少一次环保志愿活动</label>
                                </div>
                            </div>
                        </div>
                        <!-- 新增：姓名输入 -->
                        <div class="mb-6">
                            <label for="realname" class="block text-lg font-medium text-gray-700 mb-2">姓名</label>
                            <input type="text" id="realname"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"
                                placeholder="请输入你的姓名">
                        </div>
                        <!-- 学号输入 -->
                        <div class="mb-6">
                            <label for="student-id" class="block text-lg font-medium text-gray-700 mb-2">学号</label>
                            <input type="text" id="student-id"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"
                                placeholder="请输入你的学号">
                        </div>
                        <!-- 邮箱输入 -->
                        <div class="mb-6">
                            <label for="email" class="block text-lg font-medium text-gray-700 mb-2">邮箱地址</label>
                            <input type="email" id="email"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"
                                placeholder="输入你的邮箱接收承诺书">
                        </div>
                        <!-- 提交按钮 -->
                        <button id="pledge-btn"
                            class="w-full bg-green-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-700 transition duration-300 transform hover:scale-105">
                            提交我的承诺
                        </button>
                        <!--下载证书按钮和证书图片展示 -->
                        <div class="flex flex-col items-center mt-4">
                            <button id="download-certificate-btn" class="hidden bg-blue-500 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition mb-2">
                                下载专属承诺证书
                            </button>
                            <canvas id="certificate-canvas" class="hidden mt-2 rounded-xl shadow" width="600" height="360" style="max-width:100%;"></canvas>
                        </div>
                        <!-- 提交结果显示 -->
                        <div id="pledge-result" class="mt-4 hidden">
                            <div class="bg-blue-100 rounded-lg p-4">
                                <p class="text-blue-800">感谢你的环保承诺！我们已发送确认邮件到你的邮箱。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 绿色生活挑战打卡部分：30天挑战 -->
        <section class="py-16" style="background: transparent;">
            <div class="container mx-auto px-6">
                <div class="max-w-3xl mx-auto">
                    <h2 class="text-3xl font-bold text-center text-gray-800 mb-8">绿色生活30天挑战</h2>
                    <div class="bg-white bg-opacity-80 rounded-xl shadow-lg p-8">
                        <ul id="challenge-list" class="space-y-2">
                            <!-- JS 动态插入每日挑战任务 -->
                        </ul>
                        <!-- 徽章展示区域，JS自动插入 -->
                        <!-- <div id="badge-area"></div> -->
                        <div class="flex flex-col md:flex-row md:items-center md:space-x-4 mt-4">
                            <button id="checkin-btn" class="w-full md:w-auto bg-green-600 text-white py-2 px-6 rounded-lg font-medium hover:bg-green-700 transition duration-300 mb-2 md:mb-0">
                                今日打卡
                            </button>
                            <div id="progress-bar" class="flex-1 h-4 bg-green-100 rounded-full overflow-hidden">
                                <div class="bg-green-500 h-full" style="width: 0%" id="progress-inner"></div>
                            </div>
                            <span class="ml-2 text-gray-600 text-sm">已连续打卡 <span id="days-count">0</span> 天</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <!-- 引入共享脚本、挑战打卡脚本、承诺书提交脚本、背景动画脚本 -->
    <script src="js/shared.js"></script>
    <script src="js/challenge.js"></script>
    <script src="js/submit.js"></script>
    <script src="js/bg-squares.js"></script>
</body>

</html>